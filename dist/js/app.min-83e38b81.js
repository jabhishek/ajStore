!function(){"use strict";angular.module("AngularApp",["ui.router","ngCookies","restangular","ngAnimate","LocalStorageModule","ngAria","ngMaterial"]).value("_",_).config(["$stateProvider","$urlRouterProvider","$locationProvider","localStorageServiceProvider",function(e,t,r,n){n.setPrefix("ajStore"),e.state("main",{url:"/",templateUrl:"main/main.html",controller:"MainController",controllerAs:"mainVm"}).state("checkout",{url:"/checkout",templateUrl:"checkout/checkout.html",controller:"CheckoutController",controllerAs:"checkoutVm"}).state("confirmation",{url:"/confirmation",templateUrl:"checkout/orderConfirmation.html",controller:"OrderConfirmationController",controllerAs:"orderConfirmationVm"}),t.otherwise("/"),r.html5Mode({enabled:!0,requireBase:!1})}])}(),function(e){"use strict";e.controller("MainController",["ShopService","BasketService",function(e,t){var r=this;r.shopItems=e.ShopItems,r.basket=t,r.addItemToBasket=function(e){t.addItem(e)}}])}(angular.module("AngularApp")),function(e){"use strict";e.factory("BasketService",["localStorageService","_",function(e,t){function r(){var t=e.get("basket");t&&(u.items=t)}function n(){return t.reduce(u.items,function(e,t){return e+t.quantity},0)}function i(){return t.reduce(u.items,function(e,t){return+(e+t.quantity*t.price).toFixed(2)},0)}function o(r){var n=t.findIndex(u.items,function(e){return e.id===r.id});-1===n?(r.quantity=1,u.items.push(r)):u.items[n].quantity++,e.set("basket",u.items)}function a(r){var n=t.findIndex(u.items,function(e){return e.id===r.id});n>-1&&(u.items[n].quantity>1?u.items[n].quantity--:u.items.splice(n,1)),e.set("basket",u.items)}function l(){u.items=[],e.set("basket",u.items)}var u={items:[],getItemCount:n,getBasketValue:i,addItem:o,removeItem:a,clear:l};return r(),u}])}(angular.module("AngularApp")),function(e){"use strict";e.factory("DeliveryMethodService",function(){var e={};return e.deliveryMethods=[{id:1,name:"Standard Home Delivery",price:3.99},{id:2,name:"Next Day Home Delivery",price:7.99},{id:3,name:"Collect from Store",price:0}],e})}(angular.module("AngularApp")),function(e){"use strict";e.factory("OrderService",function(){return{orderNumber:0}})}(angular.module("AngularApp")),function(e){"use strict";e.factory("ShopService",function(){var e={};return e.ShopItems=[{id:1,name:"Denim shirt",price:39.99},{id:2,name:"Denim jeans",price:69.99},{id:3,name:"Brown Khaki Trousers",price:29.99},{id:4,name:"Black Khaki Trousers",price:29.99},{id:5,name:"Red Khaki Trousers",price:29.99},{id:6,name:"Blue Khaki Trousers",price:29.99},{id:7,name:"Green Striped shirt",price:29.99},{id:8,name:"Red Striped shirt",price:29.99},{id:9,name:"Blue Plain Shirt",price:39.99}],e})}(angular.module("AngularApp")),function(e){"use strict";e.controller("CheckoutController",["BasketService","DeliveryMethodService","OrderService","$state",function(e,t,r,n){var i=this;i.basket=e,i.deliveryMethods=t.deliveryMethods,i.selectedDeliveryMethod=i.deliveryMethods[0],i.totalCost=function(){return i.selectedDeliveryMethod.price+i.basket.getBasketValue()},i.submitOrder=function(){r.orderNumber=Math.ceil(9e5*Math.random()+1e5),e.clear(),n.transitionTo("confirmation")}}])}(angular.module("AngularApp")),function(e){"use strict";e.controller("OrderConfirmationController",["OrderService",function(e){var t=this;t.order=e}])}(angular.module("AngularApp")),function(e){"use strict";e.directive("ajBasketBadge",["BasketService",function(e){return{restrict:"E",templateUrl:"components/BasketBadge/BasketBadge.html",controller:function(){var t=this;t.basket=e},controllerAs:"basketBadgeVm"}}])}(angular.module("AngularApp")),function(e){"use strict";e.directive("ajNavbar",["$state",function(e){return{restrict:"EA",templateUrl:"components/NavBar/NavBar.html",controller:function(){var t=this;t.isCollapsed=!0,t.logout=function(){t.isCollapsed=!0,e.go("login")}},controllerAs:"navBarVm"}}])}(angular.module("AngularApp"));